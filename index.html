<!DOCTYPE html>
<html>
<head>
    <script src="https://downloads.minepi.com/sdk/v1/prod.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
</head>
<body>

    
    <h1 class="font-weight-normal h5 text-center" id="User"></h1>
    <h1 class="font-weight-normal h5 text-center" id="Balance"></h1>
    <input id='pi'>
    <input id='pireason'>
    <div class="text-center"><button onclick="wq()" class="btn btn-success btn-md text-center">Send</button></div>

    <script>
        const PiNetworkClient = window.PiNetwork;
        
        async function ao(){
            var transferRequest = await PiNetworkClient.Balance();
            document.getElementById('Balance').innerHTML = transferRequest.balance;
        }

        async function qw(){
            try {
                const user = await PiNetworkClient.Authenticate()
                document.getElementById('User').innerHTML=`Send as: \n<b>@${user.username}</b>`
              } catch (err) {
               alert('You are not logged in, please (log in) to continue.')
              }
        }

       async function wq(){
            try {
                let value = document.getElementById('pi').value
                console.log(value)
                PiNetworkClient.RequestTransfer(parseInt(value), pireason.value);
              } catch(err) {
                console.log(err)
              }
        }
        
        qw()
    </script>

</body>
</html>
